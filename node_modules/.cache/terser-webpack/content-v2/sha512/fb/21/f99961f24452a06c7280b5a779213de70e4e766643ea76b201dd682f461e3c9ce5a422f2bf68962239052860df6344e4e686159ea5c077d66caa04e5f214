{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{\"7wo0\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"SettingsModule\",function(){return settings_module_SettingsModule});var shared=__webpack_require__(\"M0ag\"),router=__webpack_require__(\"tyNb\"),core=__webpack_require__(\"ey9i\"),fesm2015_core=__webpack_require__(\"fXoL\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),list_errors_component=__webpack_require__(\"vWSW\");const routes=[{path:\"\",component:(()=>{class SettingsComponent{constructor(router,userService,fb){this.router=router,this.userService=userService,this.fb=fb,this.user={},this.errors={},this.isSubmitting=!1,this.settingsForm=this.fb.group({image:\"\",username:\"\",bio:\"\",email:\"\",password:\"\"})}ngOnInit(){Object.assign(this.user,this.userService.getCurrentUser()),this.settingsForm.patchValue(this.user)}logout(){this.userService.purgeAuth(),this.router.navigateByUrl(\"/\")}submitForm(){this.isSubmitting=!0,this.updateUser(this.settingsForm.value),this.userService.update(this.user).subscribe(updatedUser=>this.router.navigateByUrl(\"/profile/\"+updatedUser.username),err=>{this.errors=err,this.isSubmitting=!1})}updateUser(values){Object.assign(this.user,values)}}return SettingsComponent.ɵfac=function(t){return new(t||SettingsComponent)(fesm2015_core.Ib(router.c),fesm2015_core.Ib(core.f),fesm2015_core.Ib(fesm2015_forms.b))},SettingsComponent.ɵcmp=fesm2015_core.Cb({type:SettingsComponent,selectors:[[\"app-settings-page\"]],decls:25,vars:3,consts:[[1,\"settings-page\"],[1,\"container\",\"page\"],[1,\"row\"],[1,\"col-md-6\",\"offset-md-3\",\"col-xs-12\"],[1,\"text-xs-center\"],[3,\"errors\"],[3,\"formGroup\",\"ngSubmit\"],[3,\"disabled\"],[1,\"form-group\"],[\"type\",\"text\",\"placeholder\",\"URL of profile picture\",\"formControlName\",\"image\",1,\"form-control\"],[\"type\",\"text\",\"placeholder\",\"Username\",\"formControlName\",\"username\",1,\"form-control\",\"form-control-lg\"],[\"rows\",\"8\",\"placeholder\",\"Short bio about you\",\"formControlName\",\"bio\",1,\"form-control\",\"form-control-lg\"],[\"type\",\"email\",\"placeholder\",\"Email\",\"formControlName\",\"email\",1,\"form-control\",\"form-control-lg\"],[\"type\",\"password\",\"placeholder\",\"New Password\",\"formControlName\",\"password\",1,\"form-control\",\"form-control-lg\"],[\"type\",\"submit\",1,\"btn\",\"btn-lg\",\"btn-primary\",\"pull-xs-right\"],[1,\"btn\",\"btn-outline-danger\",3,\"click\"]],template:function(rf,ctx){1&rf&&(fesm2015_core.Lb(0,\"div\",0),fesm2015_core.Lb(1,\"div\",1),fesm2015_core.Lb(2,\"div\",2),fesm2015_core.Lb(3,\"div\",3),fesm2015_core.Lb(4,\"h1\",4),fesm2015_core.kc(5,\"Your Settings\"),fesm2015_core.Kb(),fesm2015_core.Jb(6,\"app-list-errors\",5),fesm2015_core.Lb(7,\"form\",6),fesm2015_core.Sb(\"ngSubmit\",function(){return ctx.submitForm()}),fesm2015_core.Lb(8,\"fieldset\",7),fesm2015_core.Lb(9,\"fieldset\",8),fesm2015_core.Jb(10,\"input\",9),fesm2015_core.Kb(),fesm2015_core.Lb(11,\"fieldset\",8),fesm2015_core.Jb(12,\"input\",10),fesm2015_core.Kb(),fesm2015_core.Lb(13,\"fieldset\",8),fesm2015_core.Lb(14,\"textarea\",11),fesm2015_core.kc(15,\"              \"),fesm2015_core.Kb(),fesm2015_core.Kb(),fesm2015_core.Lb(16,\"fieldset\",8),fesm2015_core.Jb(17,\"input\",12),fesm2015_core.Kb(),fesm2015_core.Lb(18,\"fieldset\",8),fesm2015_core.Jb(19,\"input\",13),fesm2015_core.Kb(),fesm2015_core.Lb(20,\"button\",14),fesm2015_core.kc(21,\" Update Settings \"),fesm2015_core.Kb(),fesm2015_core.Kb(),fesm2015_core.Kb(),fesm2015_core.Jb(22,\"hr\"),fesm2015_core.Lb(23,\"button\",15),fesm2015_core.Sb(\"click\",function(){return ctx.logout()}),fesm2015_core.kc(24,\" Or click here to logout. \"),fesm2015_core.Kb(),fesm2015_core.Kb(),fesm2015_core.Kb(),fesm2015_core.Kb(),fesm2015_core.Kb()),2&rf&&(fesm2015_core.yb(6),fesm2015_core.ac(\"errors\",ctx.errors),fesm2015_core.yb(1),fesm2015_core.ac(\"formGroup\",ctx.settingsForm),fesm2015_core.yb(1),fesm2015_core.ac(\"disabled\",ctx.isSubmitting))},directives:[list_errors_component.a,fesm2015_forms.m,fesm2015_forms.i,fesm2015_forms.f,fesm2015_forms.a,fesm2015_forms.h,fesm2015_forms.e],encapsulation:2}),SettingsComponent})(),canActivate:[core.b]}];let settings_routing_module_SettingsRoutingModule=(()=>{class SettingsRoutingModule{}return SettingsRoutingModule.ɵfac=function(t){return new(t||SettingsRoutingModule)},SettingsRoutingModule.ɵmod=fesm2015_core.Gb({type:SettingsRoutingModule}),SettingsRoutingModule.ɵinj=fesm2015_core.Fb({imports:[[router.f.forChild(routes)],router.f]}),SettingsRoutingModule})(),settings_module_SettingsModule=(()=>{class SettingsModule{}return SettingsModule.ɵfac=function(t){return new(t||SettingsModule)},SettingsModule.ɵmod=fesm2015_core.Gb({type:SettingsModule}),SettingsModule.ɵinj=fesm2015_core.Fb({imports:[[shared.a,settings_routing_module_SettingsRoutingModule]]}),SettingsModule})()}}]);","name":"8-es2015.19ebf0c48ae784b78cad.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[8],{\n\n/***/ \"7wo0\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"SettingsModule\", function() { return /* binding */ settings_module_SettingsModule; });\n\n// EXTERNAL MODULE: ./src/app/shared/index.ts + 4 modules\nvar shared = __webpack_require__(\"M0ag\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 17 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./src/app/core/index.ts + 8 modules\nvar core = __webpack_require__(\"ey9i\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js + 3 modules\nvar fesm2015_core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js + 1 modules\nvar fesm2015_forms = __webpack_require__(\"3Pt+\");\n\n// EXTERNAL MODULE: ./src/app/shared/list-errors.component.ts\nvar list_errors_component = __webpack_require__(\"vWSW\");\n\n// CONCATENATED MODULE: ./src/app/settings/settings.component.ts\n\n\n\n\n\n\n\n\nlet settings_component_SettingsComponent = /*@__PURE__*/ (() => {\n    class SettingsComponent {\n        constructor(router, userService, fb) {\n            this.router = router;\n            this.userService = userService;\n            this.fb = fb;\n            this.user = {};\n            this.errors = {};\n            this.isSubmitting = false;\n            // create form group using the form builder\n            this.settingsForm = this.fb.group({\n                image: '',\n                username: '',\n                bio: '',\n                email: '',\n                password: ''\n            });\n            // Optional: subscribe to changes on the form\n            // this.settingsForm.valueChanges.subscribe(values => this.updateUser(values));\n        }\n        ngOnInit() {\n            // Make a fresh copy of the current user's object to place in editable form fields\n            Object.assign(this.user, this.userService.getCurrentUser());\n            // Fill the form\n            this.settingsForm.patchValue(this.user);\n        }\n        logout() {\n            this.userService.purgeAuth();\n            this.router.navigateByUrl('/');\n        }\n        submitForm() {\n            this.isSubmitting = true;\n            // update the model\n            this.updateUser(this.settingsForm.value);\n            this.userService\n                .update(this.user)\n                .subscribe(updatedUser => this.router.navigateByUrl('/profile/' + updatedUser.username), err => {\n                this.errors = err;\n                this.isSubmitting = false;\n            });\n        }\n        updateUser(values) {\n            Object.assign(this.user, values);\n        }\n    }\n    SettingsComponent.ɵfac = function SettingsComponent_Factory(t) { return new (t || SettingsComponent)(fesm2015_core[\"Ib\" /* ɵɵdirectiveInject */](router[\"c\" /* Router */]), fesm2015_core[\"Ib\" /* ɵɵdirectiveInject */](core[\"f\" /* UserService */]), fesm2015_core[\"Ib\" /* ɵɵdirectiveInject */](fesm2015_forms[\"b\" /* FormBuilder */])); };\n    SettingsComponent.ɵcmp = fesm2015_core[\"Cb\" /* ɵɵdefineComponent */]({ type: SettingsComponent, selectors: [[\"app-settings-page\"]], decls: 25, vars: 3, consts: [[1, \"settings-page\"], [1, \"container\", \"page\"], [1, \"row\"], [1, \"col-md-6\", \"offset-md-3\", \"col-xs-12\"], [1, \"text-xs-center\"], [3, \"errors\"], [3, \"formGroup\", \"ngSubmit\"], [3, \"disabled\"], [1, \"form-group\"], [\"type\", \"text\", \"placeholder\", \"URL of profile picture\", \"formControlName\", \"image\", 1, \"form-control\"], [\"type\", \"text\", \"placeholder\", \"Username\", \"formControlName\", \"username\", 1, \"form-control\", \"form-control-lg\"], [\"rows\", \"8\", \"placeholder\", \"Short bio about you\", \"formControlName\", \"bio\", 1, \"form-control\", \"form-control-lg\"], [\"type\", \"email\", \"placeholder\", \"Email\", \"formControlName\", \"email\", 1, \"form-control\", \"form-control-lg\"], [\"type\", \"password\", \"placeholder\", \"New Password\", \"formControlName\", \"password\", 1, \"form-control\", \"form-control-lg\"], [\"type\", \"submit\", 1, \"btn\", \"btn-lg\", \"btn-primary\", \"pull-xs-right\"], [1, \"btn\", \"btn-outline-danger\", 3, \"click\"]], template: function SettingsComponent_Template(rf, ctx) {\n            if (rf & 1) {\n                fesm2015_core[\"Lb\" /* ɵɵelementStart */](0, \"div\", 0);\n                fesm2015_core[\"Lb\" /* ɵɵelementStart */](1, \"div\", 1);\n                fesm2015_core[\"Lb\" /* ɵɵelementStart */](2, \"div\", 2);\n                fesm2015_core[\"Lb\" /* ɵɵelementStart */](3, \"div\", 3);\n                fesm2015_core[\"Lb\" /* ɵɵelementStart */](4, \"h1\", 4);\n                fesm2015_core[\"kc\" /* ɵɵtext */](5, \"Your Settings\");\n                fesm2015_core[\"Kb\" /* ɵɵelementEnd */]();\n                fesm2015_core[\"Jb\" /* ɵɵelement */](6, \"app-list-errors\", 5);\n                fesm2015_core[\"Lb\" /* ɵɵelementStart */](7, \"form\", 6);\n                fesm2015_core[\"Sb\" /* ɵɵlistener */](\"ngSubmit\", function SettingsComponent_Template_form_ngSubmit_7_listener() { return ctx.submitForm(); });\n                fesm2015_core[\"Lb\" /* ɵɵelementStart */](8, \"fieldset\", 7);\n                fesm2015_core[\"Lb\" /* ɵɵelementStart */](9, \"fieldset\", 8);\n                fesm2015_core[\"Jb\" /* ɵɵelement */](10, \"input\", 9);\n                fesm2015_core[\"Kb\" /* ɵɵelementEnd */]();\n                fesm2015_core[\"Lb\" /* ɵɵelementStart */](11, \"fieldset\", 8);\n                fesm2015_core[\"Jb\" /* ɵɵelement */](12, \"input\", 10);\n                fesm2015_core[\"Kb\" /* ɵɵelementEnd */]();\n                fesm2015_core[\"Lb\" /* ɵɵelementStart */](13, \"fieldset\", 8);\n                fesm2015_core[\"Lb\" /* ɵɵelementStart */](14, \"textarea\", 11);\n                fesm2015_core[\"kc\" /* ɵɵtext */](15, \"              \");\n                fesm2015_core[\"Kb\" /* ɵɵelementEnd */]();\n                fesm2015_core[\"Kb\" /* ɵɵelementEnd */]();\n                fesm2015_core[\"Lb\" /* ɵɵelementStart */](16, \"fieldset\", 8);\n                fesm2015_core[\"Jb\" /* ɵɵelement */](17, \"input\", 12);\n                fesm2015_core[\"Kb\" /* ɵɵelementEnd */]();\n                fesm2015_core[\"Lb\" /* ɵɵelementStart */](18, \"fieldset\", 8);\n                fesm2015_core[\"Jb\" /* ɵɵelement */](19, \"input\", 13);\n                fesm2015_core[\"Kb\" /* ɵɵelementEnd */]();\n                fesm2015_core[\"Lb\" /* ɵɵelementStart */](20, \"button\", 14);\n                fesm2015_core[\"kc\" /* ɵɵtext */](21, \" Update Settings \");\n                fesm2015_core[\"Kb\" /* ɵɵelementEnd */]();\n                fesm2015_core[\"Kb\" /* ɵɵelementEnd */]();\n                fesm2015_core[\"Kb\" /* ɵɵelementEnd */]();\n                fesm2015_core[\"Jb\" /* ɵɵelement */](22, \"hr\");\n                fesm2015_core[\"Lb\" /* ɵɵelementStart */](23, \"button\", 15);\n                fesm2015_core[\"Sb\" /* ɵɵlistener */](\"click\", function SettingsComponent_Template_button_click_23_listener() { return ctx.logout(); });\n                fesm2015_core[\"kc\" /* ɵɵtext */](24, \" Or click here to logout. \");\n                fesm2015_core[\"Kb\" /* ɵɵelementEnd */]();\n                fesm2015_core[\"Kb\" /* ɵɵelementEnd */]();\n                fesm2015_core[\"Kb\" /* ɵɵelementEnd */]();\n                fesm2015_core[\"Kb\" /* ɵɵelementEnd */]();\n                fesm2015_core[\"Kb\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                fesm2015_core[\"yb\" /* ɵɵadvance */](6);\n                fesm2015_core[\"ac\" /* ɵɵproperty */](\"errors\", ctx.errors);\n                fesm2015_core[\"yb\" /* ɵɵadvance */](1);\n                fesm2015_core[\"ac\" /* ɵɵproperty */](\"formGroup\", ctx.settingsForm);\n                fesm2015_core[\"yb\" /* ɵɵadvance */](1);\n                fesm2015_core[\"ac\" /* ɵɵproperty */](\"disabled\", ctx.isSubmitting);\n            }\n        }, directives: [list_errors_component[\"a\" /* ListErrorsComponent */], fesm2015_forms[\"m\" /* ɵangular_packages_forms_forms_ba */], fesm2015_forms[\"i\" /* NgControlStatusGroup */], fesm2015_forms[\"f\" /* FormGroupDirective */], fesm2015_forms[\"a\" /* DefaultValueAccessor */], fesm2015_forms[\"h\" /* NgControlStatus */], fesm2015_forms[\"e\" /* FormControlName */]], encapsulation: 2 });\n    return SettingsComponent;\n})();\n\n// CONCATENATED MODULE: ./src/app/settings/settings-routing.module.ts\n\n\n\n\n\nconst routes = [\n    {\n        path: '',\n        component: settings_component_SettingsComponent,\n        canActivate: [core[\"b\" /* AuthGuard */]]\n    }\n];\nlet settings_routing_module_SettingsRoutingModule = /*@__PURE__*/ (() => {\n    class SettingsRoutingModule {\n    }\n    SettingsRoutingModule.ɵfac = function SettingsRoutingModule_Factory(t) { return new (t || SettingsRoutingModule)(); };\n    SettingsRoutingModule.ɵmod = fesm2015_core[\"Gb\" /* ɵɵdefineNgModule */]({ type: SettingsRoutingModule });\n    SettingsRoutingModule.ɵinj = fesm2015_core[\"Fb\" /* ɵɵdefineInjector */]({ imports: [[router[\"f\" /* RouterModule */].forChild(routes)], router[\"f\" /* RouterModule */]] });\n    return SettingsRoutingModule;\n})();\n\n// CONCATENATED MODULE: ./src/app/settings/settings.module.ts\n\n\n\nlet settings_module_SettingsModule = /*@__PURE__*/ (() => {\n    class SettingsModule {\n    }\n    SettingsModule.ɵfac = function SettingsModule_Factory(t) { return new (t || SettingsModule)(); };\n    SettingsModule.ɵmod = fesm2015_core[\"Gb\" /* ɵɵdefineNgModule */]({ type: SettingsModule });\n    SettingsModule.ɵinj = fesm2015_core[\"Fb\" /* ɵɵdefineInjector */]({ imports: [[\n                shared[\"a\" /* SharedModule */],\n                settings_routing_module_SettingsRoutingModule\n            ]] });\n    return SettingsModule;\n})();\n\n\n/***/ })\n\n}]);","inputSourceMap":null}